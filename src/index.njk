---
layout: layout.njk
eleventyExcludeFromCollections: true
title: Solutions Log
permalink: /index.html
---

<section id="entries" class="entries-grid">
  {% for post in collections.entries %}
  <article class="entry" data-tags="{{ (post.data.tags or []).join('||') }}">
    <header class="entry-head">
      <h3 class="entry-title">
        <a href="{{ post.url }}">{{ post.data.title }}</a>
      </h3>
      <time datetime="{{ post.date | date('yyyy-MM-dd') }}" class="entry-date">
        {{ post.date | date("yyyy-MM-dd") }}
      </time>
    </header>

    {% if post.data.tags and post.data.tags.length %}
    <div class="tags">
      {% for t in post.data.tags %}
        <span class="chip">{{ t }}</span>
      {% endfor %}
    </div>
    {% endif %}

    <p class="excerpt">
      {{ post.templateContent | striptags | truncate(180, true, "â€¦") }}
    </p>
  </article>
  {% endfor %}
</section>

<p id="no-results" hidden><em>No entries match this filter.</em></p>

<!-- Tools at the bottom: compact filters + search -->
<section class="tools compact-tools">
  <div class="filters">
    <strong>Filter by tag:</strong>
    <button data-tag="all" class="tag active">All</button>
    {% for tag in collections.entries | uniquetags %}
      <button class="tag" data-tag="{{ tag }}">{{ tag }}</button>
    {% endfor %}
  </div>

  {% if ENABLE_SEARCH %}
    <!-- Pagefind renders here -->
    <div id="search"></div>
  {% endif %}
</section>

<script>
  // Tag filter (unchanged)
  const tagButtons = document.querySelectorAll(".filters .tag");
  const cards = document.querySelectorAll(".entries-grid .entry");
  const noResults = document.getElementById("no-results");

  function applyFilter(tag) {
    let shown = 0;
    cards.forEach(card => {
      const set = (card.dataset.tags || "").split("||").filter(Boolean);
      const match = tag === "all" || set.includes(tag);
      card.hidden = !match;
      if (match) shown++;
    });
    noResults.hidden = shown !== 0;
  }

  tagButtons.forEach(btn => btn.addEventListener("click", () => {
    tagButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    applyFilter(btn.dataset.tag);
  }));

  // Initialize (show all by default)
  applyFilter("all");
</script>
